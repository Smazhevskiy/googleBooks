(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={wrapper:"Book_wrapper__26F_z",container:"Book_container__2ZYrS",imgWrapper:"Book_imgWrapper__2TN6v",descriptionBlock:"Book_descriptionBlock__F1yoN",categories:"Book_categories__2oV64",title:"Book_title__3x0nh",authors:"Book_authors__le0b4",description:"Book_description__22wQF"}},15:function(e,t,n){e.exports={wrapper:"PreviewBook_wrapper__2W8N4",descriptionsBlock:"PreviewBook_descriptionsBlock__3a3K5"}},17:function(e,t,n){e.exports={wrapper:"Alerts_wrapper__1g533",container:"Alerts_container__3lRGf",show:"Alerts_show__1YQpV",error:"Alerts_error__3eVfB"}},21:function(e,t,n){e.exports={wrapper:"Header_wrapper__2Vvx5",searchBox:"Header_searchBox__51Aqj",searchIcon:"Header_searchIcon__2R33A"}},22:function(e,t,n){e.exports={wrapper:"OptionsBlockProps_wrapper__2SLpo",optionsBox:"OptionsBlockProps_optionsBox__1PUMS"}},27:function(e,t,n){e.exports={wrapper:"BooksPage_wrapper__U9PVZ",mappedBooks:"BooksPage_mappedBooks__evf-Z",pagination:"BooksPage_pagination__2qrD3"}},29:function(e,t,n){e.exports={progressContainer:"Progress_progressContainer__1Hk7q",progressBar:"Progress_progressBar__1ZVyH",loading:"Progress_loading__2NScC"}},42:function(e,t,n){e.exports={select:"Select_select__3eP1M"}},44:function(e,t,n){e.exports={scrollButton:"ScrollToTop_scrollButton__2g8rA"}},51:function(e,t,n){},52:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r,o=n(0),c=n.n(o),a=n(20),i=n.n(a),s=(n(51),n(52),n(14)),l=n(21),u=n.n(l),d=n(10),p=n(26),j=n.n(p),O=n(40),b=n(3),m=n(41),_=n.n(m),h=function(e){return _.a.get("https://www.googleapis.com/books/v1/volumes?",{params:e})};!function(e){e.SET_APP_IS_LOADING="APP/SET_APP_IS_LOADING",e.SET_APP_ERROR="APP/SET_APP_ERROR",e.SET_APP_INITIALIZED="APP/SET_INITIALIZED",e.SET_APP_INFO="APP/SET_APP_INFO"}(r||(r={}));var g,f={isLoading:!1,isInitialized:!1,error:"",info:""},v=function(e){return{type:r.SET_APP_IS_LOADING,payload:{status:e}}},A=function(e){return{type:r.SET_APP_ERROR,payload:{error:e}}},I=function(e){return{type:r.SET_APP_INFO,payload:{info:e}}},x=function(e,t){t(A(e.response?e.response.data.error:e))};!function(e){e.SET_BOOKS="BOOKS/SET_BOOKS",e.SET_Q_VALUE="BOOKS/SET_Q_VALUE",e.SET_FILTER="BOOKS/SET_FILTER",e.SET_ORDER_BY="BOOKS/SET_ORDER_BY",e.SET_CATEGORIES="BOOK/SET_CATEGORIES",e.SET_START_PAGINATION_INDEX="SET_START_PAGINATION_INDEX"}(g||(g={}));var E,S={kind:"some",totalItems:0,items:[{id:"1",volumeInfo:{imageLinks:{smallThumbnail:"",thumbnail:"",medium:"",large:""},categories:[],authors:[],title:""}}],q:"",key:"AIzaSyA1vOYaRAU3dpj48FLXOrHd7u2FhwO5qfE",filter:"full",orderBy:"relevance",categories:"all",maxResults:30,startIndex:0},T=function(e){return{type:g.SET_BOOKS,payload:e}},B=function(e){return{type:g.SET_Q_VALUE,q:e}},R=d.c,y=n(46),k=n(42),N=n.n(k),w=n(1),P=function(e){var t=e.options,n=e.onChange,r=e.onChangeOption,o=Object(y.a)(e,["options","onChange","onChangeOption"]),c=t?t.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)})):[];return Object(w.jsx)("select",Object(b.a)(Object(b.a)({onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)},className:N.a.select},o),{},{children:c}))},C=n(22),F=n.n(C),G=function(e){var t=R((function(e){return e.books})).totalItems,n=e.changeCategories,r=e.changeSortHandler;return Object(w.jsxs)("div",{className:F.a.wrapper,children:[t>0&&Object(w.jsxs)("span",{className:F.a.totalItems,children:["Found ",t," results "]}),Object(w.jsxs)("div",{className:F.a.optionsBox,children:[Object(w.jsx)("div",{style:{margin:"0px 10px"},children:"categories"}),Object(w.jsx)(P,{options:L,onChangeOption:n}),Object(w.jsx)("div",{style:{margin:"0px 10px"},children:"sorting by"}),Object(w.jsx)(P,{options:Q,onChangeOption:r})]})]})},L=["all","art","biography","computers","history","medical","poetry"],Q=["relevance","newest"],D=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(d.b)(),a=R((function(e){return e.books})),i=a.q,l=a.filter,p=a.orderBy,b=a.startIndex;Object(o.useEffect)((function(){i&&c(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().books,e.prev=1,t(v(!0)),e.next=5,h({q:r.q,key:r.key,orderBy:r.orderBy,maxResults:30,startIndex:r.startIndex});case 5:(o=e.sent).data.totalItems||t(I("\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")),t(T(o.data)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),x(e.t0,t),t(A("\u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"));case 14:return e.prev=14,t(v(!1)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(t,n){return e.apply(this,arguments)}}())}),[c,i,p,l,b]);return Object(w.jsxs)("div",{className:u.a.wrapper,children:[Object(w.jsx)("h1",{style:{color:"#ccc"},children:"Search for books"}),Object(w.jsxs)("div",{className:u.a.searchBox,children:[Object(w.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&c(B(n))},value:n,autoFocus:!0,type:"search",onChange:function(e){r(e.currentTarget.value)}}),Object(w.jsx)("img",{onClick:function(){n||c(I("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430")),c(B(n))},className:u.a.searchIcon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0NEQTRFMUZENUIzMTFFQThDNTRGOTFDMjIwQkQwQzAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0NEQTRFMUVENUIzMTFFQThDNTRGOTFDMjIwQkQwQzAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUYwQTkxOTVENUFGMTFFQTkyRURFMzQwQTQ4QUZDODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUYwQTkxOTZENUFGMTFFQTkyRURFMzQwQTQ4QUZDODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4y+3IdAAAAz0lEQVR42pSS/Q3CIBDFaRdwBZwARnAEnQC34M/WDRxBJqgj6AYygazgBHqYR3LBw7YkL3CP48fXdd57xdqeNJIM8yK8qxJaz8Y5aaoWK8QT5puAvPOAcSBtSR36AH9AnggY2eIjKSFOiEOV9wMwrYTKNxJAszg1AC3/C+CTupGn/wHKVy25Qpx7REe6sB01Yjf3iLlITgzyJL3RO5Y/1V9ZF9JBOGaE/0KcT2QlQDmJRREVWfg7QDakW4H0anl7SJA1AAlyXgvgkHsefwQYAEgSL8ZnndlwAAAAAElFTkSuQmCC",alt:"search.png"})]}),Object(w.jsx)(G,{changeCategories:function(e){var t;c((t=String(e),{type:g.SET_FILTER,filter:t})),c(I(String("Filtered by ".concat(e))))},changeSortHandler:function(e){c(function(e){return{type:g.SET_ORDER_BY,orderBy:e}}(String(e))),c(I(String("Sort by ".concat(e))))}})]})},Y=n.p+"static/media/bookImg.0ce2ad34.jpg",U=n(4),Z=n(27),M=n.n(Z),z=n(15),V=n.n(z),H=n(13),W=function(e){var t=e.category,n=e.image,r=e.title,o=e.author,c=e.id;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:V.a.wrapper,children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:n,alt:r||"img"})}),Object(w.jsxs)("div",{className:V.a.descriptionsBlock,children:[Object(w.jsx)("div",{className:V.a.category,children:t}),Object(w.jsx)("div",{className:V.a.title,children:r}),Object(w.jsx)("div",{className:V.a.author,children:o}),Object(w.jsx)(H.b,{to:E.BOOKSPAGE+c,children:"View"})]})]})})},K=n(11),J=n.n(K);!function(e){e.BOOKSPAGE="/",e.BOOK="/:id?",e.EMPTY="",e.ERROR="/404"}(E||(E={}));var X=[{path:E.BOOKSPAGE,component:function(){var e=Object(d.b)(),t=R((function(e){return e.books})),n=t.items,r=t.q,o=t.startIndex,c=t.totalItems;return Object(w.jsxs)("div",{className:M.a.wrapper,children:[Object(w.jsx)("div",{className:M.a.mappedBooks,children:r&&n.map((function(e,t){var n;return Object(w.jsx)(W,{image:null===(n=e.volumeInfo.imageLinks)||void 0===n?void 0:n.smallThumbnail,category:e.volumeInfo.categories,title:e.volumeInfo.title,author:e.volumeInfo.authors,id:e.id},t)}))}),c&&Object(w.jsx)("button",{onClick:function(){var t;e((t=o+30,{type:g.SET_START_PAGINATION_INDEX,index:t}))},disabled:c<o+30,children:"Load more"})]})},exact:!0},{path:E.BOOK,component:function(){var e=R((function(e){return e.books})).items,t=Object(U.g)().id,n=e.find((function(e){return e.id===t}));return n?Object(w.jsx)("div",{className:J.a.wrapper,children:Object(w.jsxs)("div",{className:J.a.container,children:[Object(w.jsx)("div",{className:J.a.imgWrapper,children:Object(w.jsx)("img",{src:function(){var e,t,r,o,c,a;return(null===(e=n.volumeInfo.imageLinks)||void 0===e?void 0:e.large)?null===(t=n.volumeInfo.imageLinks)||void 0===t?void 0:t.large:(null===(r=n.volumeInfo.imageLinks)||void 0===r?void 0:r.medium)?null===(o=n.volumeInfo.imageLinks)||void 0===o?void 0:o.medium:(null===(c=n.volumeInfo.imageLinks)||void 0===c?void 0:c.thumbnail)?null===(a=n.volumeInfo.imageLinks)||void 0===a?void 0:a.thumbnail:"https://yt3.ggpht.com/a/AATXAJyI5u3cCKLCv3wEIU23z1oC_Ww88RGbXbCu_HWI5w=s900-c-k-c0xffffffff-no-rj-mo"}(),alt:""})}),Object(w.jsxs)("div",{className:J.a.descriptionBlock,children:[Object(w.jsx)("div",{className:J.a.categories,children:n?n.volumeInfo.categories:"some categories"}),Object(w.jsx)("div",{className:J.a.title,children:n?n.volumeInfo.title:"some title"}),Object(w.jsx)("div",{className:J.a.authors,children:n?n.volumeInfo.authors:"some authors"}),Object(w.jsx)("div",{className:J.a.description,children:n?n.volumeInfo.description:"dff"})]})]})}):Object(w.jsx)(U.a,{to:E.BOOKSPAGE})}},{path:E.ERROR,component:function(){return Object(w.jsx)("div",{children:Object(w.jsx)("img",{style:{width:"100%",height:"100%",position:"fixed",backgroundSize:"cover",mixBlendMode:"multiply"},src:"https://d2yheu4zwsv3s4.cloudfront.net/07099855f4f4a806b0ab1e35761dab2d/978381/adea4175c3688c8f27423f42582717ae/original_optimised.jpg",alt:"error"})})}}],q=n(29),$=n.n(q),ee=function(){return Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:$.a.progressContainer,children:Object(w.jsx)("div",{className:$.a.progressBar})})})},te=function(){return R((function(e){return e.app})).isLoading?Object(w.jsx)(ee,{}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(U.d,{children:[X.map((function(e){return Object(w.jsx)(U.b,{path:e.path,component:e.component,exact:e.exact},e.path)})),Object(w.jsx)(U.a,{from:E.EMPTY,to:E.ERROR})]})})},ne=n(17),re=n.n(ne),oe=function(e){var t=e.type,n=e.text,r=e.open,c=e.onClose,a=Object(o.useState)(r),i=Object(s.a)(a,2),l=i[0],u=i[1],d=Object(o.useCallback)((function(){u(!1),c()}),[c]);return Object(o.useEffect)((function(){u(r);var e=setTimeout((function(){d()}),3500);return function(){return clearTimeout(e)}}),[d,r]),Object(w.jsx)(w.Fragment,{children:l&&Object(w.jsxs)("div",{className:"".concat(re.a.container," ").concat("error"===t&&re.a.error),children:[Object(w.jsx)("div",{children:n||"I am Alert"}),Object(w.jsx)("span",{onClick:d,children:"X"})]})})},ce=function(){var e=R((function(e){return e.app.error})),t=Object(d.b)(),n=Object(o.useCallback)((function(){t(A(""))}),[t]);return Object(w.jsx)(oe,{type:"error",text:e,open:!!e,onClose:n})},ae=function(){var e=R((function(e){return e.app.info})),t=Object(d.b)(),n=Object(o.useCallback)((function(){t(I(""))}),[t]);return Object(w.jsx)(oe,{type:"success",text:e,open:!!e,onClose:n})},ie=function(){return Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:re.a.wrapper,children:[Object(w.jsx)(ce,{}),Object(w.jsx)(ae,{})]})})},se=n(44),le=n.n(se),ue=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=function(){var e=document.documentElement.scrollTop;r(e>300)};return Object(o.useEffect)((function(){window.addEventListener("scroll",c)}),[]),Object(w.jsx)(w.Fragment,{children:n&&Object(w.jsx)("button",{className:le.a.scrollButton,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"Up"})})},de={backgroundImage:"url(".concat(Y,")"),height:"auto",opacity:"0.9",backgroundSize:"cover",minHeight:"100vh"};var pe=function(){return Object(w.jsxs)("div",{style:de,children:[Object(w.jsx)(ie,{}),Object(w.jsx)(D,{}),Object(w.jsx)(te,{}),Object(w.jsx)(ue,{})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),c(e),a(e)}))},Oe=n(23),be=n(45),me=Object(Oe.b)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.SET_BOOKS:return Object(b.a)(Object(b.a)({},e),t.payload);case g.SET_Q_VALUE:return Object(b.a)(Object(b.a)({},e),{},{q:t.q});case g.SET_FILTER:return Object(b.a)(Object(b.a)({},e),{},{filter:t.filter});case g.SET_ORDER_BY:return Object(b.a)(Object(b.a)({},e),{},{orderBy:t.orderBy});case g.SET_START_PAGINATION_INDEX:return Object(b.a)(Object(b.a)({},e),{},{startIndex:t.index});case g.SET_CATEGORIES:default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_APP_INITIALIZED:return Object(b.a)(Object(b.a)({},e),{},{isInitialized:t.payload.status});case r.SET_APP_IS_LOADING:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload.status});case r.SET_APP_ERROR:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload.error});case r.SET_APP_INFO:return Object(b.a)(Object(b.a)({},e),{},{info:t.payload.info});default:return e}}}),_e=Object(Oe.c)(me,Object(Oe.a)(be.a));window.store=_e,i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(H.a,{children:Object(w.jsx)(d.a,{store:_e,children:Object(w.jsx)(pe,{})})})}),document.getElementById("root")),je()}},[[79,1,2]]]);
//# sourceMappingURL=main.5676e552.chunk.js.map