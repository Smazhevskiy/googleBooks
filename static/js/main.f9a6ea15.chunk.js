(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){e.exports={wrapper:"Header_wrapper__3W7PD",searchBox:"Header_searchBox__19O2g",optionsBox:"Header_optionsBox__1dHVm",searchIcon:"Header_searchIcon__3D6bl",totalItems:"Header_totalItems__2HqZL"}},15:function(e,t,n){e.exports={wrapper:"PreviewBook_wrapper__1S-3A",descriptionsBlock:"PreviewBook_descriptionsBlock__3lJf4"}},17:function(e,t,n){e.exports={wrapper:"Alerts_wrapper__1g533",container:"Alerts_container__3lRGf",show:"Alerts_show__1YQpV",error:"Alerts_error__3eVfB"}},21:function(e,t,n){e.exports={wrapper:"Book_wrapper__26F_z",imgWrapper:"Book_imgWrapper__2TN6v",descriptionInfo:"Book_descriptionInfo__2uOiP"}},26:function(e,t,n){e.exports={wrapper:"BooksPage_wrapper__U9PVZ",mappedBooks:"BooksPage_mappedBooks__evf-Z",pagination:"BooksPage_pagination__2qrD3"}},28:function(e,t,n){e.exports={progressContainer:"Progress_progressContainer__1Hk7q",progressBar:"Progress_progressBar__1ZVyH",loading:"Progress_loading__2NScC"}},41:function(e,t,n){e.exports={select:"Select_select__3eP1M"}},43:function(e,t,n){e.exports={scrollButton:"ScrollToTop_scrollButton__2g8rA"}},50:function(e,t,n){},51:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),o=n(20),i=n.n(o),s=(n(50),n(51),n(13)),l=n(14),u=n.n(l),d=n(10),j=n(25),O=n.n(j),p=n(39),b=n(3),m=n(40),h=n.n(m),_=function(e){return h.a.get("https://www.googleapis.com/books/v1/volumes?",{params:e})};!function(e){e.SET_APP_IS_LOADING="APP/SET_APP_IS_LOADING",e.SET_APP_ERROR="APP/SET_APP_ERROR",e.SET_APP_INITIALIZED="APP/SET_INITIALIZED",e.SET_APP_INFO="APP/SET_APP_INFO"}(r||(r={}));var f,g={isLoading:!1,isInitialized:!1,error:"",info:""},A=function(e){return{type:r.SET_APP_IS_LOADING,payload:{status:e}}},I=function(e){return{type:r.SET_APP_ERROR,payload:{error:e}}},x=function(e){return{type:r.SET_APP_INFO,payload:{info:e}}},E=function(e,t){t(I(e.response?e.response.data.error:e))};!function(e){e.SET_BOOKS="BOOKS/SET_BOOKS",e.SET_Q_VALUE="BOOKS/SET_Q_VALUE",e.SET_FILTER="BOOKS/SET_FILTER",e.SET_ORDER_BY="BOOKS/SET_ORDER_BY",e.SET_CATEGORIES="BOOK/SET_CATEGORIES",e.SET_START_PAGINATION_INDEX="SET_START_PAGINATION_INDEX"}(f||(f={}));var v,T={kind:"some",totalItems:0,items:[{id:"1",volumeInfo:{imageLinks:{smallThumbnail:"",thumbnail:"",medium:"",large:""},categories:[],authors:[],title:""}}],q:"",key:"AIzaSyA1vOYaRAU3dpj48FLXOrHd7u2FhwO5qfE",filter:"full",orderBy:"relevance",categories:"all",maxResults:30,startIndex:0},S=function(e){return{type:f.SET_BOOKS,payload:e}},R=function(e){return{type:f.SET_Q_VALUE,q:e}},y=d.c,B=n(45),N=n(41),P=n.n(N),w=n(1),k=function(e){var t=e.options,n=e.onChange,r=e.onChangeOption,c=Object(B.a)(e,["options","onChange","onChangeOption"]),a=t?t.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)})):[];return Object(w.jsx)("select",Object(b.a)(Object(b.a)({onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)},className:P.a.select},c),{},{children:a}))},C=["all","art","biography","computers","history","medical","poetry"],G=["relevance","newest"],F=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(d.b)(),o=y((function(e){return e.books})),i=o.q,l=o.filter,j=o.orderBy,b=o.totalItems,m=o.startIndex;Object(c.useEffect)((function(){i&&a(function(){var e=Object(p.a)(O.a.mark((function e(t,n){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().books,e.prev=1,t(A(!0)),e.next=5,_({q:r.q,key:r.key||null,orderBy:r.orderBy,maxResults:30,startIndex:r.startIndex});case 5:(c=e.sent).data.totalItems||t(x("\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")),t(S(c.data)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),E(e.t0,t),t(I("\u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"));case 14:return e.prev=14,t(A(!1)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(t,n){return e.apply(this,arguments)}}())}),[a,i,j,l,m]);return Object(w.jsxs)("div",{className:u.a.wrapper,children:[Object(w.jsx)("h1",{style:{color:"#ccc"},children:"Search for books"}),Object(w.jsxs)("div",{className:u.a.searchBox,children:[Object(w.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&a(R(n))},value:n,autoFocus:!0,type:"search",onChange:function(e){r(e.currentTarget.value)}}),Object(w.jsx)("img",{onClick:function(){n||a(x("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430")),a(R(n))},className:u.a.searchIcon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0NEQTRFMUZENUIzMTFFQThDNTRGOTFDMjIwQkQwQzAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0NEQTRFMUVENUIzMTFFQThDNTRGOTFDMjIwQkQwQzAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUYwQTkxOTVENUFGMTFFQTkyRURFMzQwQTQ4QUZDODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUYwQTkxOTZENUFGMTFFQTkyRURFMzQwQTQ4QUZDODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4y+3IdAAAAz0lEQVR42pSS/Q3CIBDFaRdwBZwARnAEnQC34M/WDRxBJqgj6AYygazgBHqYR3LBw7YkL3CP48fXdd57xdqeNJIM8yK8qxJaz8Y5aaoWK8QT5puAvPOAcSBtSR36AH9AnggY2eIjKSFOiEOV9wMwrYTKNxJAszg1AC3/C+CTupGn/wHKVy25Qpx7REe6sB01Yjf3iLlITgzyJL3RO5Y/1V9ZF9JBOGaE/0KcT2QlQDmJRREVWfg7QDakW4H0anl7SJA1AAlyXgvgkHsefwQYAEgSL8ZnndlwAAAAAElFTkSuQmCC",alt:"search.png"})]}),Object(w.jsxs)("div",{className:u.a.optionsBox,children:[b>0&&Object(w.jsxs)("h3",{className:u.a.totalItems,children:["Found ",b," results "]}),Object(w.jsx)("span",{style:{margin:"0px 10px"},children:"categories"}),Object(w.jsx)(k,{options:C,onChangeOption:function(e){var t;a((t=String(e),{type:f.SET_FILTER,filter:t})),a(x(String("Filtered by ".concat(e))))}}),Object(w.jsx)("span",{style:{margin:"0px 10px"},children:"sorting by"}),Object(w.jsx)(k,{options:G,onChangeOption:function(e){a(function(e){return{type:f.SET_ORDER_BY,orderBy:e}}(String(e))),a(x(String("Sort by ".concat(e))))}})]})]})},Q=n.p+"static/media/bookImg.0ce2ad34.jpg",D=n(4),L=n(26),Y=n.n(L),U=n(15),Z=n.n(U),M=n(12),z=function(e){var t=e.category,n=e.image,r=e.title,c=e.author,a=e.id;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:Z.a.wrapper,children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:n,alt:r||"img"})}),Object(w.jsxs)("div",{className:Z.a.descriptionsBlock,children:[Object(w.jsx)("div",{className:Z.a.category,children:t}),Object(w.jsx)("div",{className:Z.a.title,children:r}),Object(w.jsx)("div",{className:Z.a.author,children:c}),Object(w.jsx)(M.b,{to:v.BOOKSPAGE+a,children:"View"})]})]})})},V=n(21),H=n.n(V);!function(e){e.BOOKSPAGE="/",e.BOOK="/:id?",e.EMPTY="",e.ERROR="/404"}(v||(v={}));var W=[{path:v.BOOKSPAGE,component:function(){var e=Object(d.b)(),t=y((function(e){return e.books})),n=t.items,r=t.q,c=t.startIndex,a=t.totalItems;return Object(w.jsxs)("div",{className:Y.a.wrapper,children:[Object(w.jsx)("div",{className:Y.a.mappedBooks,children:r&&n.map((function(e){var t;return Object(w.jsx)(z,{image:null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.smallThumbnail,category:e.volumeInfo.categories,title:e.volumeInfo.title,author:e.volumeInfo.authors,id:e.id},e.id)}))}),a&&Object(w.jsx)("button",{onClick:function(){var t;e((t=c+30,{type:f.SET_START_PAGINATION_INDEX,index:t}))},disabled:a<c+30,children:"Load more"})]})},exact:!0},{path:v.BOOK,component:function(){var e=y((function(e){return e.books})).items,t=Object(D.g)().id,n=e.find((function(e){return e.id===t}));return n?Object(w.jsxs)("div",{className:H.a.wrapper,children:[Object(w.jsx)("div",{className:H.a.imgWrapper,children:Object(w.jsx)("img",{src:n?n.volumeInfo.imageLinks.thumbnail:"https://cdn.pixabay.com/photo/2018/06/24/23/13/book-3495713_1280.jpg",alt:""})}),Object(w.jsxs)("div",{className:H.a.descriptionInfo,children:[Object(w.jsx)("div",{children:n?n.volumeInfo.categories:"some categories"}),Object(w.jsx)("div",{children:n?n.volumeInfo.title:"some title"}),Object(w.jsx)("div",{children:n?n.volumeInfo.authors:"some authors"}),Object(w.jsx)("div",{children:n?n.volumeInfo.description:"dff"})]})]}):Object(w.jsx)(D.a,{to:v.BOOKSPAGE})}},{path:v.ERROR,component:function(){return Object(w.jsx)("div",{children:Object(w.jsx)("img",{style:{width:"100%",height:"100%",position:"fixed",backgroundSize:"cover",mixBlendMode:"multiply"},src:"https://d2yheu4zwsv3s4.cloudfront.net/07099855f4f4a806b0ab1e35761dab2d/978381/adea4175c3688c8f27423f42582717ae/original_optimised.jpg",alt:"error"})})}}],K=n(28),J=n.n(K),q=function(){return Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:J.a.progressContainer,children:Object(w.jsx)("div",{className:J.a.progressBar})})})},X=function(){return y((function(e){return e.app})).isLoading?Object(w.jsx)(q,{}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(D.d,{children:[W.map((function(e){return Object(w.jsx)(D.b,{path:e.path,component:e.component,exact:e.exact},e.path)})),Object(w.jsx)(D.a,{from:v.EMPTY,to:v.ERROR})]})})},$=n(17),ee=n.n($),te=function(e){var t=e.type,n=e.text,r=e.open,a=e.onClose,o=Object(c.useState)(r),i=Object(s.a)(o,2),l=i[0],u=i[1],d=Object(c.useCallback)((function(){u(!1),a()}),[a]);return Object(c.useEffect)((function(){u(r);var e=setTimeout((function(){d()}),3500);return function(){return clearTimeout(e)}}),[d,r]),Object(w.jsx)(w.Fragment,{children:l&&Object(w.jsxs)("div",{className:"".concat(ee.a.container," ").concat("error"===t&&ee.a.error),children:[Object(w.jsx)("div",{children:n||"I am Alert"}),Object(w.jsx)("span",{onClick:d,children:"X"})]})})},ne=function(){var e=y((function(e){return e.app.error})),t=Object(d.b)(),n=Object(c.useCallback)((function(){t(I(""))}),[t]);return Object(w.jsx)(te,{type:"error",text:e,open:!!e,onClose:n})},re=function(){var e=y((function(e){return e.app.info})),t=Object(d.b)(),n=Object(c.useCallback)((function(){t(x(""))}),[t]);return Object(w.jsx)(te,{type:"success",text:e,open:!!e,onClose:n})},ce=function(){return Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:ee.a.wrapper,children:[Object(w.jsx)(ne,{}),Object(w.jsx)(re,{})]})})},ae=n(43),oe=n.n(ae),ie=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=function(){var e=document.documentElement.scrollTop;r(e>300)};return Object(c.useEffect)((function(){window.addEventListener("scroll",a)}),[]),Object(w.jsx)(w.Fragment,{children:n&&Object(w.jsx)("button",{className:oe.a.scrollButton,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"Up"})})},se={backgroundImage:"url(".concat(Q,")"),height:"100vh",opacity:"0.9",backgroundSize:"cover",backgroundAttachment:"fixed"};var le=function(){return Object(w.jsxs)("div",{style:se,children:[Object(w.jsx)(ce,{}),Object(w.jsx)(F,{}),Object(w.jsx)(X,{}),Object(w.jsx)(ie,{})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},de=n(22),je=n(44),Oe=Object(de.b)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SET_BOOKS:return Object(b.a)(Object(b.a)({},e),t.payload);case f.SET_Q_VALUE:return Object(b.a)(Object(b.a)({},e),{},{q:t.q});case f.SET_FILTER:return Object(b.a)(Object(b.a)({},e),{},{filter:t.filter});case f.SET_ORDER_BY:return Object(b.a)(Object(b.a)({},e),{},{orderBy:t.orderBy});case f.SET_START_PAGINATION_INDEX:return Object(b.a)(Object(b.a)({},e),{},{startIndex:t.index});case f.SET_CATEGORIES:return Object(b.a)(Object(b.a)({},e),{},{categories:t.categories});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_APP_INITIALIZED:return Object(b.a)(Object(b.a)({},e),{},{isInitialized:t.payload.status});case r.SET_APP_IS_LOADING:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload.status});case r.SET_APP_ERROR:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload.error});case r.SET_APP_INFO:return Object(b.a)(Object(b.a)({},e),{},{info:t.payload.info});default:return e}}}),pe=Object(de.c)(Oe,Object(de.a)(je.a));window.store=pe,i.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(M.a,{children:Object(w.jsx)(d.a,{store:pe,children:Object(w.jsx)(le,{})})})}),document.getElementById("root")),ue()}},[[78,1,2]]]);
//# sourceMappingURL=main.f9a6ea15.chunk.js.map